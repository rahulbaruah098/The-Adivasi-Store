{% extends "base.html" %}

{% block content %}
<main>

  <section class="section shop-page">
    <style>
      :root{
        --bg-cream:#f4ece0;
        --bg-deep:#1b130e;
        --ink:#22150e;
        --accent:#7b3321;
        --accent-soft:#b0673d;
        --line-soft:rgba(60,38,22,0.22);
        --shadow-soft:0 18px 38px rgba(0,0,0,0.28);
        --shadow-card:0 10px 26px rgba(0,0,0,0.22);
        --radius-card:20px;
        --transition-fast:0.2s ease;
        --transition-med:0.35s ease;
      }

      img{max-width:100%;display:block;}
      a{text-decoration:none;color:inherit;}

      /* ================= HERO (SHOP) =================
         ✅ Full-bleed (left-to-right) even inside container layouts
      ================================================= */
      .hero-shop{
        position:relative;
        min-height:90vh;
        display:flex;
        align-items:center;
        justify-content:center;
        padding:140px 20px 80px;
        color:#fff;
        text-align:center;
        overflow:hidden;
        --hero-offset:0px;

        /* ✅ full width stretch */
        width:100vw;
        margin-left:calc(50% - 50vw);
        margin-right:calc(50% - 50vw);
      }
      .hero-shop::before{
        content:"";
        position:absolute;
        inset:0;
        background-image:
          linear-gradient(to top, rgba(0,0,0,0.72), rgba(0,0,0,0.25)),
          url("static/images/shophero.jpg");
        background-size:cover;
        background-position:center calc(0px + var(--hero-offset));
        transition:background-position 0.12s linear;
        z-index:-2;
      }
      .hero-shop::after{
        content:"";
        position:absolute;
        inset:0;
        background:
          radial-gradient(circle at 18% 6%,rgba(255,255,255,0.25),transparent 55%),
          radial-gradient(circle at 82% 92%,rgba(255,255,255,0.18),transparent 60%);
        mix-blend-mode:screen;
        opacity:0.8;
        z-index:-1;
      }
      .hero-shop .hero-inner{
        max-width:840px;
        animation:hero-reveal 1.1s ease-out both;
      }
      @keyframes hero-reveal{
        0%{opacity:0;transform:translateY(40px);}
        100%{opacity:1;transform:translateY(0);}
      }
      .hero-shop .hero-kicker{
        font-family:"Fjalla One",sans-serif;
        letter-spacing:0.25em;
        font-size:11px;
        text-transform:uppercase;
        margin-bottom:14px;
      }
      .hero-shop .hero-title{
        font-size:clamp(44px,5.4vw,64px);
        line-height:0.95;
        text-transform:uppercase;
        margin-bottom:14px;
        letter-spacing:0.16em;
      }
      .hero-shop .hero-sub{
        max-width:620px;
        margin:0 auto 26px;
        font-size:14px;
      }
      .hero-shop .hero-cta-row{
        display:flex;
        justify-content:center;
        gap:16px;
        flex-wrap:wrap;
      }
      .hero-shop .hero-cta{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        padding:11px 34px;
        border-radius:999px;
        border:1px solid rgba(255,255,255,0.9);
        background:rgba(0,0,0,0.45);
        font-family:"Fjalla One",sans-serif;
        font-size:11px;
        letter-spacing:0.2em;
        text-transform:uppercase;
        transition:background var(--transition-fast),color var(--transition-fast),transform var(--transition-fast),box-shadow var(--transition-fast);
      }
      .hero-shop .hero-cta:hover{
        background:#fff;
        color:#000;
        transform:translateY(-2px);
        box-shadow:var(--shadow-soft);
      }
      .hero-shop .hero-cta-secondary{
        border-style:dashed;
        opacity:0.9;
      }

      /* ================= CATEGORY / SHELL ================= */

      .shop-shell{
        padding:40px 60px 80px;
        background:
          repeating-linear-gradient(135deg,rgba(167,124,75,0.06) 0,rgba(167,124,75,0.06) 14px,transparent 14px,transparent 28px),
          #f5ede2;
      }
      .shop-header{
        max-width:950px;
        margin:0 auto 28px;
        text-align:center;
      }
      .shop-kicker{
        font-family:"Fjalla One",sans-serif;
        letter-spacing:0.22em;
        font-size:11px;
        text-transform:uppercase;
        color:#8a6b46;
        margin-bottom:6px;
      }
      .shop-title{
        font-size:26px;
        letter-spacing:0.14em;
        text-transform:uppercase;
        margin-bottom:8px;
      }
      .shop-sub{
        font-size:13px;
        color:#6b5a48;
      }

      .shop-category-pills{
        margin:26px auto 8px;
        max-width:960px;
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        justify-content:center;
      }
      .shop-pill{
        border-radius:999px;
        border:1px solid rgba(109,81,54,0.35);
        padding:5px 14px;
        font-size:11px;
        letter-spacing:0.18em;
        text-transform:uppercase;
        font-family:"Fjalla One",sans-serif;
        background:rgba(255,255,255,0.85);
        cursor:pointer;
        position:relative;
        overflow:hidden;
        transition:background 0.18s ease,transform 0.18s ease,box-shadow 0.18s.ease;
      }
      .shop-pill span{
        position:relative;
        z-index:1;
      }
      .shop-pill::before{
        content:"";
        position:absolute;
        inset:0;
        background:linear-gradient(120deg,rgba(196,119,65,0.2),rgba(91,51,32,0.7));
        opacity:0;
        transition:opacity 0.18s ease;
      }
      .shop-pill:hover{
        transform:translateY(-1px);
        box-shadow:0 9px 18px rgba(0,0,0,0.18);
      }
      .shop-pill:hover::before{
        opacity:1;
      }
      .shop-pill:hover span{
        color:#fff;
      }

      /* ================= SHOP ROWS ================= */

      .shop-row{
        margin:42px auto 0;
        max-width:1180px;
      }
      .shop-row-header{
        display:flex;
        align-items:flex-end;
        justify-content:space-between;
        gap:10px;
        margin-bottom:16px;
      }
      .shop-row-title{
        font-size:16px;
        letter-spacing:0.18em;
        text-transform:uppercase;
      }
      .shop-row-sub{
        font-size:12px;
        color:#7a6651;
      }
      .shop-row-kicker{
        font-family:"Fjalla One",sans-serif;
        font-size:11px;
        letter-spacing:0.2em;
        text-transform:uppercase;
        color:#b0673d;
        margin-bottom:2px;
      }

      .product-track{
        position:relative;
        display:flex;
        gap:22px;
        overflow-x:auto;
        padding-bottom:8px;
        scroll-behavior:smooth;
        scroll-snap-type:x mandatory;
      }
      .product-track::-webkit-scrollbar{
        height:6px;
      }
      .product-track::-webkit-scrollbar-track{
        background:rgba(0,0,0,0.03);
      }
      .product-track::-webkit-scrollbar-thumb{
        background:rgba(73,52,33,0.4);
        border-radius:999px;
      }

      .product-card{
        min-width:230px;
        max-width:240px;
        background:#efe4d7;
        border-radius:var(--radius-card);
        border:1px solid rgba(126,99,70,0.4);
        box-shadow:var(--shadow-card);
        scroll-snap-align:start;
        overflow:hidden;
        display:flex;
        flex-direction:column;
        position:relative;
        transition:transform 0.22s ease,box-shadow 0.22s ease;
      }
      .product-card:hover{
        transform:translateY(-6px) rotate(-0.4deg);
        box-shadow:0 18px 36px rgba(0,0,0,0.32);
      }

      .product-media{
        position:relative;
        aspect-ratio:3/4;
        background:#d7cbbd;
        overflow:hidden;
      }
      .product-img{
        position:absolute;
        inset:0;
        width:100%;
        height:100%;
        object-fit:cover;
        transition:opacity var(--transition-med),transform 0.4s.ease;
      }
      .product-img-primary{opacity:1;}
      .product-card:hover .product-img-primary{
        opacity:0;
        transform:scale(1.04);
      }
      .product-img-hover{
        opacity:0;
        transform:scale(1.04);
      }
      .product-card:hover .product-img-hover{
        opacity:1;
        transform:scale(1.02);
      }

      .product-badge{
        position:absolute;
        top:10px;
        left:10px;
        padding:4px 9px;
        border-radius:999px;
        border:1px solid rgba(255,255,255,0.85);
        background:rgba(51,30,20,0.72);
        color:#fff7e6;
        font-family:"Fjalla One",sans-serif;
        font-size:10px;
        letter-spacing:0.18em;
        text-transform:uppercase;
      }

      .product-add{
        position:absolute;
        right:10px;
        bottom:10px;
        width:30px;
        height:30px;
        border-radius:999px;
        border:none;
        background:rgba(255,255,255,0.97);
        display:flex;
        align-items:center;
        justify-content:center;
        cursor:pointer;
        box-shadow:0 6px 14px rgba(0,0,0,0.28);
        transition:transform 0.18s ease,box-shadow 0.18s ease;
      }
      .product-add svg{width:18px;height:18px;}
      .product-add path{
        stroke:#24150f;
        stroke-width:1.6;
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }
      .product-add:hover{
        transform:translateY(-2px);
        box-shadow:0 9px 20px rgba(0,0,0,0.38);
      }

      .product-body{
        padding:11px 14px 13px;
        display:flex;
        flex-direction:column;
        gap:3px;
      }
      .product-category{
        font-size:10px;
        letter-spacing:0.18em;
        text-transform:uppercase;
        color:#7c6550;
        font-family:"Fjalla One",sans-serif;
      }
      .product-name{
        font-size:13px;
        letter-spacing:0.11em;
        text-transform:uppercase;
        margin-top:3px;
      }
      .product-meta-row{
        display:flex;
        justify-content:space-between;
        align-items:flex-end;
        margin-top:4px;
        font-size:12px;
      }
      .product-price{
        font-family:"Inter",sans-serif;
      }
      .product-price-label{
        letter-spacing:0.16em;
        text-transform:uppercase;
        font-size:10px;
        margin-right:2px;
      }
      .product-link{
        font-size:11px;
        letter-spacing:0.16em;
        text-transform:uppercase;
        border-bottom:1px solid rgba(40,26,18,0.4);
      }
      .product-link:hover{
        border-bottom-color:rgba(40,26,18,0.9);
      }

      /* ✨ Added-to-cart micro-animation (shop page) */
      .product-card.cart-added .product-add{
        animation:shop-cart-pop .55s ease-out;
      }
      .product-added-tag{
        position:absolute;
        left:12px;
        bottom:12px;
        padding:4px 10px;
        border-radius:999px;
        background:rgba(0,0,0,0.86);
        color:#fff;
        font-size:10px;
        letter-spacing:.16em;
        text-transform:uppercase;
        font-family:"Fjalla One",sans-serif;
        pointer-events:none;
        opacity:0;
        transform:translateY(8px) scale(.9);
        animation:shop-tag-pop .7s ease-out forwards;
      }
      @keyframes shop-cart-pop{
        0%{transform:translateY(0) scale(1);}
        35%{transform:translateY(-4px) scale(1.15) rotate(-4deg);}
        70%{transform:translateY(1px) scale(.96) rotate(2deg);}
        100%{transform:translateY(0) scale(1);}
      }
      @keyframes shop-tag-pop{
        0%{opacity:0;transform:translateY(8px) scale(.9);}
        30%{opacity:1;transform:translateY(0) scale(1);}
        100%{opacity:0;transform:translateY(-10px) scale(.95);}
      }

      /* ================= RESPONSIVE ================= */

      @media (max-width:1100px){
        .shop-shell{padding-inline:32px;}
      }

      @media (max-width:880px){
        .shop-shell{padding-inline:22px;}
        .hero-shop{padding-top:130px;}
      }

      @media (max-width:640px){
        .hero-shop{padding:120px 16px 70px;}
        .shop-shell{padding:34px 16px 70px;}
        .product-card{min-width:210px;max-width:210px;}
        .shop-row-header{
          flex-direction:column;
          align-items:flex-start;
        }
      }
    </style>

    <!-- =============== HERO =============== -->
    <section class="hero hero-shop" id="hero">
      <div class="hero-inner">
        <div class="hero-kicker">Adivasi Handwoven Collective</div>
        <h1 class="hero-title">Crafted in Culture</h1>
        <p class="hero-sub">
          From gamusa borders and tribal motifs to soft everyday wraps, each piece is woven with stories from the
          Adivasi heartlands. Discover clothing, ornaments and essentials that carry our colours forward.
        </p>
        <div class="hero-cta-row">
          <a href="#shop" class="hero-cta">Shop the collection</a>
          <a href="#ornaments-row" class="hero-cta hero-cta-secondary">View ornaments edit</a>
        </div>
      </div>
    </section>

    <!-- =============== SHOP SHELL =============== -->
    <section class="shop-shell" id="shop">
      <div class="shop-header">
        <div class="shop-kicker">The Adivasi Store · Shop</div>
        <h2 class="shop-title">Weaves, stories & everyday heirlooms</h2>
        <p class="shop-sub">
          Curated rows by category – women’s drapes, men’s woven layers, kids’ festive outfits,
          ornaments, and small accessories inspired by traditional patterns.
          Scroll sideways in each row or let them glide on their own.
        </p>
      </div>

      <!-- Category pills (✅ Bags removed) -->
      <div class="shop-category-pills">
        <button class="shop-pill" data-jump="#women-row"><span>Women</span></button>
        <button class="shop-pill" data-jump="#men-row"><span>Men</span></button>
        <button class="shop-pill" data-jump="#kids-row"><span>Kids</span></button>
        <button class="shop-pill" data-jump="#ornaments-row"><span>Ornaments</span></button>
        <button class="shop-pill" data-jump="#accessories-row"><span>Accessories</span></button>
      </div>

      <!-- ===== WOMEN ===== -->
      <section class="shop-row" id="women-row">
        <header class="shop-row-header">
          <div>
            <div class="shop-row-kicker">woven for her</div>
            <h3 class="shop-row-title">Women · Sarees, Shawls & Wraps</h3>
          </div>
          <p class="shop-row-sub">Soft handloom textures, Adivasi borders and everyday silhouettes.</p>
        </header>

        <div class="product-track" data-autoslide="true">
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='gamusa-border-cotton-saree') }}">
            <div class="product-media">
              <span class="product-badge">New Drop</span>
              <img class="product-img product-img-primary" src="static/images/IMG_0583.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0584.JPG" alt="">
              <button class="product-add"
                      data-id="gamusa-border-cotton-saree"
                      data-name="Gamusa Border Saree"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Handloom Saree</div>
              <div class="product-name">Gamusa border cotton saree</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,490
                </div>
                <a href="{{ url_for('product_detail', product_id='gamusa-border-cotton-saree') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='tribal-motif-wool-stole') }}">
            <div class="product-media">
              <span class="product-badge">Limited</span>
              <img class="product-img product-img-primary" src="static/images/IMG_0389.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0391.JPG" alt="">
              <button class="product-add"
                      data-id="tribal-motif-wool-stole"
                      data-name="Tribal Motif Stole"
                      data-price="1890">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Stole</div>
              <div class="product-name">Tribal motif wool stole</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 1,890
                </div>
                <a href="{{ url_for('product_detail', product_id='tribal-motif-wool-stole') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0419.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0420.JPG" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0428.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0430.JPG" alt="">
              <button class="product-add"
                      data-id="festive-mekhela-chador-set"
                      data-name="Festive Mekhela"
                      data-price="3290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Set</div>
              <div class="product-name">Festive mekhela chador set</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 3,290
                </div>
                <a href="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0493.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0494.JPG" alt="">
              <button class="product-add"
                      data-id="festive-mekhela-chador-set"
                      data-name="Festive Mekhela"
                      data-price="3290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Set</div>
              <div class="product-name">Festive mekhela chador set</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 3,290
                </div>
                <a href="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0530.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0531.JPG" alt="">
              <button class="product-add"
                      data-id="festive-mekhela-chador-set"
                      data-name="Festive Mekhela"
                      data-price="3290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Set</div>
              <div class="product-name">Festive mekhela chador set</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 3,290
                </div>
                <a href="{{ url_for('product_detail', product_id='festive-mekhela-chador-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

           <!-- ===== NEW ===== -->

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag1.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag1.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>



                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag2.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag2.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>



                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag3.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag3.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag4.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag4.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag5.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag5.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag6.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag6.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag7.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag7.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                   
           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag8.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag8.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag9.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag9.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                   
           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag10.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag10.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                   
           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag11.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag11.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag12.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag12.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                   
           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag13.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag13.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                   
           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag14.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag14.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>                    
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/bag15.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/bag15.jpg" alt="">
              <button class="product-add"
                      data-id="evening-wrap-red-selvedge"
                      data-name="Evening Shawl"
                      data-price="2190">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Evening wrap with red selvedge</div>
              <div class="product-meta-row">
                <div class="product-price">
                  <span class="product-price-label">Rs.</span> 2,190
                </div>
                <a href="{{ url_for('product_detail', product_id='evening-wrap-red-selvedge') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- ===== MEN ===== -->
      <section class="shop-row" id="men-row">
        <header class="shop-row-header">
          <div>
            <div class="shop-row-kicker">for him</div>
            <h3 class="shop-row-title">Men · Shirts, Jackets & Gamusa</h3>
          </div>
          <p class="shop-row-sub">Clean cuts layered with woven borders, perfect for travel and gatherings.</p>
        </header>

        <div class="product-track" data-autoslide="true">
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='handloom-border-shirt') }}">
            <div class="product-media">
              <span class="product-badge">Bestseller</span>
              <img class="product-img product-img-primary" src="static/images/IMG_0533.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0534.JPG" alt="">
              <button class="product-add"
                      data-id="handloom-border-shirt"
                      data-name="Handloom Shirt"
                      data-price="1790">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shirt</div>
              <div class="product-name">Handloom cotton shirt with border</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 1,790</div>
                <a href="{{ url_for('product_detail', product_id='handloom-border-shirt') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='bordered-chest-panel-tee') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0558.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0559.JPG" alt="">
              <button class="product-add"
                      data-id="bordered-chest-panel-tee"
                      data-name="Weave Detail Tee"
                      data-price="990">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">T-shirt</div>
              <div class="product-name">Bordered chest panel tee</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 990</div>
                <a href="{{ url_for('product_detail', product_id='bordered-chest-panel-tee') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/IMG_0549.JPG" alt="">
              <img class="product-img product-img-hover" src="static/images/IMG_0550.JPG" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men1.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men1.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men2.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men2.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men3.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men3.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men4.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men4.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men5.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men5.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men6.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men6.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men7.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men7.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men8.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men8.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

                    <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/men9.jpg" alt="">
              <img class="product-img product-img-hover" src="static/images/adivasi/men9.jpg" alt="">
              <button class="product-add"
                      data-id="layered-jacket-tribal-trim"
                      data-name="Layered Jacket"
                      data-price="2490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jacket</div>
              <div class="product-name">Layered jacket with tribal trim</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 2,490</div>
                <a href="{{ url_for('product_detail', product_id='layered-jacket-tribal-trim') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- ===== KIDS ===== -->
      <section class="shop-row" id="kids-row">
        <header class="shop-row-header">
          <div>
            <div class="shop-row-kicker">little ones</div>
            <h3 class="shop-row-title">Kids · Festive sets & wraps</h3>
          </div>
          <p class="shop-row-sub">Soft, fuss-free outfits with playful use of motifs and colour.</p>
        </header>

        <div class="product-track" data-autoslide="true">
          
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/kids1.jpg" alt="Coming soon">
              <img class="product-img product-img-hover" src="static/images/adivasi/kids1.jpg" alt="Coming soon">
              <button class="product-add"
                      data-id="kids-festive-kurta-set"
                      data-name="Festive Kurta"
                      data-price="1290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Kurta</div>
              <div class="product-name">Kids festive kurta set</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 1,290</div>
                <a href="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/kids2.jpg" alt="Coming soon">
              <img class="product-img product-img-hover" src="static/images/adivasi/kids2.jpg" alt="Coming soon">
              <button class="product-add"
                      data-id="kids-festive-kurta-set"
                      data-name="Festive Kurta"
                      data-price="1290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Kurta</div>
              <div class="product-name">Kids festive kurta set</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 1,290</div>
                <a href="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

           <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="static/images/adivasi/kids3.jpg" alt="Coming soon">
              <img class="product-img product-img-hover" src="static/images/adivasi/kids3.jpg" alt="Coming soon">
              <button class="product-add"
                      data-id="kids-festive-kurta-set"
                      data-name="Festive Kurta"
                      data-price="1290">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Kurta</div>
              <div class="product-name">Kids festive kurta set</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 1,290</div>
                <a href="{{ url_for('product_detail', product_id='kids-festive-kurta-set') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- ===== ORNAMENTS ===== -->
      <section class="shop-row" id="ornaments-row">
        <header class="shop-row-header">
          <div>
            <div class="shop-row-kicker">ornaments</div>
            <h3 class="shop-row-title">Ornaments · Beads, Brass & Threads</h3>
          </div>
          <p class="shop-row-sub">Inspired by Adivasi jewellery – layered beads, brass details and thread tassels.</p>
        </header>

        <div class="product-track" data-autoslide="true">
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='multi-strand-bead-neckpiece') }}">
            <div class="product-media">
              <span class="product-badge">Handmade</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming Soon">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming Soon">
              <button class="product-add"
                      data-id="multi-strand-bead-neckpiece"
                      data-name="Beaded neckpiece"
                      data-price="1490">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Neckpiece</div>
              <div class="product-name">Multi-strand bead neckpiece</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 1,490</div>
                <a href="{{ url_for('product_detail', product_id='multi-strand-bead-neckpiece') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='brass-hoop-earrings') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming Soon">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming Soon">
              <button class="product-add"
                      data-id="brass-hoop-earrings"
                      data-name="Brass Earrings"
                      data-price="790">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Earrings</div>
              <div class="product-name">Brass hoop earrings</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 790</div>
                <a href="{{ url_for('product_detail', product_id='brass-hoop-earrings') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <!-- ===== ACCESSORIES (✅ Added requested product shards here) ===== -->
      <section class="shop-row" id="accessories-row">
        <header class="shop-row-header">
          <div>
            <div class="shop-row-kicker">small things</div>
            <h3 class="shop-row-title">Accessories · Stoles, Belts & More</h3>
          </div>
          <p class="shop-row-sub">Smaller pieces with big character – perfect Adivasi gifts.</p>
        </header>

        <div class="product-track" data-autoslide="true">
          <!-- Existing -->
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='handloom-weave-belt') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming soon">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Coming Soon</text></svg>" alt="Coming soon">
              <button class="product-add"
                      data-id="handloom-weave-belt"
                      data-name="Weave Belt"
                      data-price="690">
                <svg viewBox="0 0 24 24">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Belt</div>
              <div class="product-name">Handloom weave belt</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 690</div>
                <a href="{{ url_for('product_detail', product_id='handloom-weave-belt') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <!-- Requested shards -->
          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='accessory-saree') }}">
            <div class="product-media">
              <span class="product-badge">New</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Saree</text></svg>" alt="Saree">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Saree</text></svg>" alt="Saree">
              <button class="product-add" data-id="accessory-saree" data-name="Saree" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Saree</div>
              <div class="product-name">Saree</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='accessory-saree') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='accessory-bandi') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Bandi</text></svg>" alt="Bandi">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Bandi</text></svg>" alt="Bandi">
              <button class="product-add" data-id="accessory-bandi" data-name="Bandi" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Bandi</div>
              <div class="product-name">Bandi</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='accessory-bandi') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='accessory-bags') }}">
            <div class="product-media">
              <span class="product-badge">Carry</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Bags</text></svg>" alt="Bags">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Bags</text></svg>" alt="Bags">
              <button class="product-add" data-id="accessory-bags" data-name="Bags" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Bags</div>
              <div class="product-name">Bags</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='accessory-bags') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='accessory-gamosa') }}">
            <div class="product-media">
              <span class="product-badge">Classic</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Gamosa</text></svg>" alt="Gamosa">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Gamosa</text></svg>" alt="Gamosa">
              <button class="product-add" data-id="accessory-gamosa" data-name="Gamosa" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Gamosa</div>
              <div class="product-name">Gamosa</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='accessory-gamosa') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='accessory-shawl') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Shawl</text></svg>" alt="Shawl">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Shawl</text></svg>" alt="Shawl">
              <button class="product-add" data-id="accessory-shawl" data-name="Shawl" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Shawl</div>
              <div class="product-name">Shawl</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='accessory-shawl') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='kids-kurta-pyjama') }}">
            <div class="product-media">
              <span class="product-badge">Kids</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='24'>Kurta Pyjama (Kids)</text></svg>" alt="Kurta Pyjama for Kids">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='24'>Kurta Pyjama (Kids)</text></svg>" alt="Kurta Pyjama for Kids">
              <button class="product-add" data-id="kids-kurta-pyjama" data-name="Kurta Pyjama for Kids" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Kids Wear</div>
              <div class="product-name">Kurta Pyjama for kids</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='kids-kurta-pyjama') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='kids-dhoti') }}">
            <div class="product-media">
              <span class="product-badge">Kids</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='26'>Dhoti (Kids)</text></svg>" alt="Dhoti for kids">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='26'>Dhoti (Kids)</text></svg>" alt="Dhoti for kids">
              <button class="product-add" data-id="kids-dhoti" data-name="Dhoti for kids" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Kids Wear</div>
              <div class="product-name">Dhoti for kids</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='kids-dhoti') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='sitapati') }}">
            <div class="product-media">
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Sitapati</text></svg>" alt="Sitapati">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Sitapati</text></svg>" alt="Sitapati">
              <button class="product-add" data-id="sitapati" data-name="Sitapati" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Accessory</div>
              <div class="product-name">Sitapati</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='sitapati') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='jhumka') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Jhumka</text></svg>" alt="Jhumka">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Jhumka</text></svg>" alt="Jhumka">
              <button class="product-add" data-id="jhumka" data-name="Jhumka" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Jhumka</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='jhumka') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='chandrahaar') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='24'>Chandrahaar</text></svg>" alt="Chandrahaar">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='24'>Chandrahaar</text></svg>" alt="Chandrahaar">
              <button class="product-add" data-id="chandrahaar" data-name="Chandrahaar" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Chandrahaar</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='chandrahaar') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='hashli') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Hashli</text></svg>" alt="Hashli">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Hashli</text></svg>" alt="Hashli">
              <button class="product-add" data-id="hashli" data-name="Hashli" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Hashli</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='hashli') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='baju') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Baju</text></svg>" alt="Baju">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Baju</text></svg>" alt="Baju">
              <button class="product-add" data-id="baju" data-name="Baju" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Baju</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='baju') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='khongso') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Khongso</text></svg>" alt="Khongso">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Khongso</text></svg>" alt="Khongso">
              <button class="product-add" data-id="khongso" data-name="Khongso" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Khongso</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='khongso') }}" class="product-link">View</a>
              </div>
            </div>
          </article>

          <article class="product-card" data-detail-url="{{ url_for('product_detail', product_id='poyori') }}">
            <div class="product-media">
              <span class="product-badge">Jewellery</span>
              <img class="product-img product-img-primary" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23d7cbbd'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Poyori</text></svg>" alt="Poyori">
              <img class="product-img product-img-hover" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?><svg xmlns='http://www.w3.org/2000/svg' width='600' height='800'><rect width='100%25' height='100%25' fill='%23cdbfae'/><text x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%235a4d3f' font-family='Arial' font-size='28'>Poyori</text></svg>" alt="Poyori">
              <button class="product-add" data-id="poyori" data-name="Poyori" data-price="0">
                <svg viewBox="0 0 24 24"><path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path><path d="M7 9h10l-1 9H8L7 9z"></path></svg>
              </button>
            </div>
            <div class="product-body">
              <div class="product-category">Jewellery</div>
              <div class="product-name">Poyori</div>
              <div class="product-meta-row">
                <div class="product-price"><span class="product-price-label">Rs.</span> 0</div>
                <a href="{{ url_for('product_detail', product_id='poyori') }}" class="product-link">View</a>
              </div>
            </div>
          </article>
        </div>
      </section>

    </section>

    <script>
      // Hero parallax
      const heroSection = document.querySelector(".hero-shop");
      window.addEventListener("scroll", () => {
        if (!heroSection) return;
        const offset = window.scrollY * 0.25;
        heroSection.style.setProperty("--hero-offset", offset + "px");
      }, { passive: true });

      // Category pills smooth scroll
      document.querySelectorAll(".shop-pill").forEach(pill => {
        pill.addEventListener("click", () => {
          const target = pill.getAttribute("data-jump");
          if (!target) return;
          const el = document.querySelector(target);
          if (el) {
            const rect = el.getBoundingClientRect();
            const absoluteY = window.scrollY + rect.top - 80; // header height
            window.scrollTo({ top: absoluteY, behavior: "smooth" });
          }
        });
      });

      // ✅ FIX: Product detail navigation (drag-safe inside horizontal product-track)
      (function () {
        let startX = 0, startY = 0;
        let isDown = false;

        document.querySelectorAll(".product-card").forEach((card) => {
          card.style.cursor = "pointer";

          card.addEventListener("pointerdown", (e) => {
            if (e.target.closest(".product-add")) return;
            if (e.target.closest("a")) return;
            isDown = true;
            startX = e.clientX;
            startY = e.clientY;
          });

          card.addEventListener("pointerup", (e) => {
            if (!isDown) return;
            isDown = false;

            if (e.target.closest(".product-add")) return;
            if (e.target.closest("a")) return;

            const dx = Math.abs(e.clientX - startX);
            const dy = Math.abs(e.clientY - startY);

            // If user dragged to scroll horizontally, do not navigate
            if (dx > 6 || dy > 6) return;

            const url = card.getAttribute("data-detail-url");
            if (!url) return;

            // Ensure the clicked card opens with its exact images (even when product_id is reused)
            const primary = card.querySelector(".product-img-primary")?.getAttribute("src") || "";
            const hover = card.querySelector(".product-img-hover")?.getAttribute("src") || "";

            // Append ?img= &hover= only if we have images and they aren't already present
            const hasQuery = url.includes("?");
            const hasImg = url.includes("img=");
            let finalUrl = url;

            // IMPORTANT: images in this template are relative like "static/Images/.."
            // On /product/<id> pages, relative paths become "/product/static/..." (404).
            // So we normalize them to absolute "/static/..." before passing as query.
            const norm = (p) => {
              if (!p) return "";
              if (p.startsWith("http://") || p.startsWith("https://") || p.startsWith("/")) return p;
              return "/" + p;
            };

            if (primary && !hasImg) {
              finalUrl += (hasQuery ? "&" : "?") + "img=" + encodeURIComponent(norm(primary));
              if (hover) finalUrl += "&hover=" + encodeURIComponent(norm(hover));
            }

            window.location.href = finalUrl;
          });

          card.addEventListener("pointercancel", () => { isDown = false; });
          card.addEventListener("pointerleave", () => { isDown = false; });
        });
      })();

      // ✨ Show "Added to cart" tag + nav cart bounce
      function showCartAdded(card){
        if(!card) return;

        card.classList.add("cart-added");

        const oldTag = card.querySelector(".product-added-tag");
        if(oldTag) oldTag.remove();

        const tag = document.createElement("div");
        tag.className = "product-added-tag";
        tag.textContent = "Added to cart";
        card.appendChild(tag);

        const navCart = document.querySelector(".nav-cart");
        if(navCart){
          navCart.classList.add("nav-cart--ping");
          setTimeout(()=>navCart.classList.remove("nav-cart--ping"), 650);
        }

        setTimeout(()=>{
          card.classList.remove("cart-added");
          if(tag && tag.parentNode){
            tag.parentNode.removeChild(tag);
          }
        }, 900);
      }

      // ✅ Add-to-cart: send id + name + price + image to backend using URLSearchParams (no redirect)
      const addToCartBaseUrl = "{{ url_for('add_to_cart') }}";
      document.querySelectorAll(".product-add").forEach(btn => {
        btn.addEventListener("click", (e) => {
          e.stopPropagation();

          const card = btn.closest(".product-card");
          if (!card) return;

          const productId = btn.dataset.id || "";
          if (!productId) return;

          const productName =
            btn.dataset.name ||
            (card.querySelector(".product-name")?.textContent.trim()) ||
            productId;

          const rawPrice =
            btn.dataset.price ||
            (card.querySelector(".product-price")?.textContent) ||
            "0";

          // Clean e.g. "Rs. 2,490" -> "2490"
          const cleanedPrice = String(rawPrice).replace(/[^\d.]/g, "");

          const imgEl = card.querySelector(".product-img-primary");
          const imgUrl = imgEl ? imgEl.src : "";

          const params = new URLSearchParams({
            product_id: productId,
            name: productName,
            price: cleanedPrice,
            image: imgUrl
          });

          const url = addToCartBaseUrl + "?" + params.toString();

          fetch(url, {
            method: "GET",
            credentials: "include"
          }).catch(()=>{});

          // micro animation
          showCartAdded(card);
        });
      });

      // Auto sliding product tracks
      const tracks = document.querySelectorAll(".product-track[data-autoslide='true']");
      tracks.forEach(track => {
        const cards = track.querySelectorAll(".product-card");
        if (cards.length <= 1) return;

        let direction = 1;
        setInterval(() => {
          const card = cards[0];
          const step = card.getBoundingClientRect().width + 22;
          const maxScroll = track.scrollWidth - track.clientWidth;

          if (direction === 1) {
            if (track.scrollLeft + step >= maxScroll - 5) {
              direction = -1;
            } else {
              track.scrollBy({ left: step, behavior: "smooth" });
            }
          } else {
            if (track.scrollLeft - step <= 0) {
              direction = 1;
            } else {
              track.scrollBy({ left: -step, behavior: "smooth" });
            }
          }
        }, 3500);
      });
    </script>

<script>
/* ==========================================================
   UNIVERSAL PRODUCT VIEW (QUICK VIEW MODAL)
   - Intercepts ONLY .product-link clicks
   - Shows the EXACT clicked product card details (images/title/category/price)
   - Includes working Add-to-Cart (same backend endpoint + same animation)
   - Keeps "Open full page" link (original href)
   ========================================================== */
(function () {
  // ---- 1) Styles (injected once) ----
  if (!document.getElementById("pvx-style")) {
    const style = document.createElement("style");
    style.id = "pvx-style";
    style.textContent = `
      .pvx-overlay{
        position:fixed; inset:0; z-index:999999;
        background:rgba(0,0,0,.55);
        display:none;
        align-items:center; justify-content:center;
        padding:18px;
      }
      .pvx-overlay.pvx-open{ display:flex; }
      .pvx-modal{
        width:min(980px, 96vw);
        background:rgba(244,236,224,.98);
        border:1px solid rgba(126,99,70,0.45);
        border-radius:22px;
        box-shadow:0 26px 70px rgba(0,0,0,.45);
        overflow:hidden;
        transform:translateY(14px) scale(.985);
        opacity:0;
        transition:transform .22s ease, opacity .22s ease;
      }
      .pvx-overlay.pvx-open .pvx-modal{
        transform:translateY(0) scale(1);
        opacity:1;
      }
      .pvx-head{
        display:flex;
        justify-content:space-between;
        align-items:center;
        gap:12px;
        padding:14px 16px;
        background:linear-gradient(135deg, rgba(27,19,14,.08), rgba(176,103,61,.12));
        border-bottom:1px solid rgba(126,99,70,0.28);
      }
      .pvx-title{
        font-family:"Fjalla One",sans-serif;
        letter-spacing:.14em;
        text-transform:uppercase;
        font-size:13px;
        color:#22150e;
        margin:0;
      }
      .pvx-close{
        width:36px; height:36px;
        border-radius:999px;
        border:1px solid rgba(40,26,18,0.35);
        background:rgba(255,255,255,0.75);
        cursor:pointer;
        display:grid; place-items:center;
        transition:transform .18s ease, background .18s ease;
      }
      .pvx-close:hover{ transform:translateY(-1px); background:#fff; }
      .pvx-body{
        display:grid;
        grid-template-columns: 1.05fr .95fr;
        gap:0;
      }
      .pvx-media{
        position:relative;
        background:#d7cbbd;
        min-height:360px;
      }
      .pvx-img{
        width:100%;
        height:100%;
        min-height:360px;
        object-fit:cover;
        display:block;
      }
      .pvx-thumbs{
        position:absolute;
        left:12px; bottom:12px;
        display:flex; gap:10px;
      }
      .pvx-thumb{
        width:54px; height:66px;
        border-radius:12px;
        border:1px solid rgba(255,255,255,.85);
        overflow:hidden;
        cursor:pointer;
        background:rgba(0,0,0,.18);
        box-shadow:0 10px 20px rgba(0,0,0,.18);
        opacity:.9;
        transition:transform .15s ease, opacity .15s ease;
      }
      .pvx-thumb:hover{ transform:translateY(-2px); opacity:1; }
      .pvx-thumb img{ width:100%; height:100%; object-fit:cover; display:block; }
      .pvx-info{
        padding:18px 18px 20px;
        background:#efe4d7;
      }
      .pvx-kicker{
        font-family:"Fjalla One",sans-serif;
        font-size:11px;
        letter-spacing:.22em;
        text-transform:uppercase;
        color:#7c6550;
        margin-bottom:8px;
      }
      .pvx-name{
        font-size:18px;
        letter-spacing:.12em;
        text-transform:uppercase;
        margin:0 0 10px;
        color:#22150e;
      }
      .pvx-price{
        font-family:"Inter",sans-serif;
        color:#22150e;
        font-size:14px;
        margin:0 0 16px;
      }
      .pvx-actions{
        display:flex;
        gap:10px;
        flex-wrap:wrap;
        align-items:center;
        margin-top:10px;
      }
      .pvx-btn{
        display:inline-flex;
        align-items:center;
        justify-content:center;
        gap:10px;
        padding:11px 16px;
        border-radius:999px;
        border:1px solid rgba(40,26,18,0.35);
        background:rgba(255,255,255,0.85);
        cursor:pointer;
        font-family:"Fjalla One",sans-serif;
        font-size:11px;
        letter-spacing:.18em;
        text-transform:uppercase;
        transition:transform .18s ease, box-shadow .18s ease, background .18s ease;
      }
      .pvx-btn:hover{
        transform:translateY(-2px);
        box-shadow:0 14px 30px rgba(0,0,0,.22);
        background:#fff;
      }
      .pvx-btn-primary{
        background:rgba(27,19,14,.92);
        color:#fff;
        border-color:rgba(27,19,14,.92);
      }
      .pvx-btn-primary:hover{ background:#1b130e; }
      .pvx-btn svg{ width:18px; height:18px; }
      .pvx-btn path{
        stroke:currentColor;
        stroke-width:1.6;
        fill:none;
        stroke-linecap:round;
        stroke-linejoin:round;
      }

      @media (max-width:820px){
        .pvx-body{ grid-template-columns: 1fr; }
        .pvx-media{ min-height:320px; }
        .pvx-img{ min-height:320px; }
      }
    `;
    document.head.appendChild(style);
  }

  // ---- 2) Modal HTML (injected once) ----
  let overlay = document.getElementById("pvx-overlay");
  if (!overlay) {
    overlay = document.createElement("div");
    overlay.className = "pvx-overlay";
    overlay.id = "pvx-overlay";
    overlay.innerHTML = `
      <div class="pvx-modal" role="dialog" aria-modal="true" aria-label="Product quick view">
        <div class="pvx-head">
          <p class="pvx-title">Quick View</p>
          <button class="pvx-close" type="button" aria-label="Close">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 6l12 12"></path>
              <path d="M18 6L6 18"></path>
            </svg>
          </button>
        </div>
        <div class="pvx-body">
          <div class="pvx-media">
            <img class="pvx-img" alt="">
            <div class="pvx-thumbs" aria-label="Image thumbnails"></div>
          </div>
          <div class="pvx-info">
            <div class="pvx-kicker"></div>
            <h3 class="pvx-name"></h3>
            <p class="pvx-price"></p>
            <div class="pvx-actions">
              <button class="pvx-btn pvx-btn-primary pvx-add" type="button">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path d="M8 9c0-2.2 1.8-4 4-4s4 1.8 4 4"></path>
                  <path d="M7 9h10l-1 9H8L7 9z"></path>
                </svg>
                Add to Cart
              </button>
              <a class="pvx-btn pvx-open" href="#" aria-label="Open full product page">Open Full Page</a>
            </div>
          </div>
        </div>
      </div>
    `;
    document.body.appendChild(overlay);
  }

  const els = {
    modal: overlay.querySelector(".pvx-modal"),
    close: overlay.querySelector(".pvx-close"),
    img: overlay.querySelector(".pvx-img"),
    thumbs: overlay.querySelector(".pvx-thumbs"),
    kicker: overlay.querySelector(".pvx-kicker"),
    name: overlay.querySelector(".pvx-name"),
    price: overlay.querySelector(".pvx-price"),
    add: overlay.querySelector(".pvx-add"),
    open: overlay.querySelector(".pvx-open")
  };

  // ---- 3) Helpers ----
  const addToCartBaseUrl = "{{ url_for('add_to_cart') }}";

  function openModal() {
    overlay.classList.add("pvx-open");
    document.body.style.overflow = "hidden";
  }

  function closeModal() {
    overlay.classList.remove("pvx-open");
    document.body.style.overflow = "";
  }

  function setMainImage(src, alt) {
    els.img.src = src || "";
    els.img.alt = alt || "";
  }

  function renderThumbs(images, alt) {
    els.thumbs.innerHTML = "";
    images.filter(Boolean).forEach((src, i) => {
      const btn = document.createElement("button");
      btn.type = "button";
      btn.className = "pvx-thumb";
      btn.innerHTML = `<img src="${src}" alt="">`;
      btn.addEventListener("click", () => setMainImage(src, alt));
      els.thumbs.appendChild(btn);
      if (i === 0) setMainImage(src, alt);
    });
  }

  function addToCart(productId, productName, price, imageUrl, originCard) {
    if (!productId) return;

    const cleanedPrice = String(price || "0").replace(/[^\d.]/g, "");
    const params = new URLSearchParams({
      product_id: productId,
      name: productName || productId,
      price: cleanedPrice,
      image: imageUrl || ""
    });

    const url = addToCartBaseUrl + "?" + params.toString();

    fetch(url, { method: "GET", credentials: "include" }).catch(() => {});
    if (typeof showCartAdded === "function") {
      showCartAdded(originCard);
    }
  }

  // ---- 4) Wire close interactions ----
  els.close.addEventListener("click", closeModal);
  overlay.addEventListener("click", (e) => {
    if (e.target === overlay) closeModal();
  });
  document.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && overlay.classList.contains("pvx-open")) closeModal();
  });

  // ---- 5) Intercept "View" clicks ----
  document.addEventListener("click", (e) => {
    const link = e.target.closest(".product-link");
    if (!link) return;

    const card = link.closest(".product-card");
    if (!card) return;

    // Prevent normal navigation (we will provide "Open Full Page" inside modal)
    e.preventDefault();

    const primaryImg = card.querySelector(".product-img-primary")?.src || "";
    const hoverImg = card.querySelector(".product-img-hover")?.src || "";
    const productName = card.querySelector(".product-name")?.textContent?.trim() || "Product";
    const productCat = card.querySelector(".product-category")?.textContent?.trim() || "";
    const productPriceText = card.querySelector(".product-price")?.textContent?.trim() || "0";

    // Pull same data used by your Add-to-cart button (if present)
    const addBtn = card.querySelector(".product-add");
    const productId = addBtn?.dataset?.id || (card.getAttribute("data-detail-url") || "");
    const datasetName = addBtn?.dataset?.name || productName;
    const datasetPrice = addBtn?.dataset?.price || productPriceText;

    els.kicker.textContent = productCat || "Product";
    els.name.textContent = productName;
    els.price.textContent = productPriceText;

    // Set "Open full page" to the original href
    const baseHref = link.getAttribute("href") || "#";
    if (baseHref && baseHref !== "#") {
      try {
        const u = new URL(baseHref, window.location.origin);
        if (primaryImg) u.searchParams.set("img", primaryImg);
        if (hoverImg) u.searchParams.set("hover", hoverImg);
        els.open.href = u.toString();
      } catch (err) {
        // fallback (shouldn't happen)
        els.open.href = baseHref;
      }
    } else {
      els.open.href = "#";
    }

    // Render images
    const images = [primaryImg, hoverImg].filter(Boolean);
    renderThumbs(images.length ? images : [primaryImg || hoverImg], productName);

    // Add-to-cart inside modal
    els.add.onclick = () => addToCart(productId, datasetName, datasetPrice, primaryImg || hoverImg, card);

    openModal();
  });
})();
</script>

</section>
</main>
{% endblock %} 