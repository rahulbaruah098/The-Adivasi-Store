{% extends "base.html" %}
{% block content %}
<main>

  <section class="section auth-page order-success-page">
    <style>
      .auth-page {
        min-height: calc(100vh - 120px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 80px 20px;
        position: relative;
        overflow: hidden;
      }

      .auth-page::before {
        content: "";
        position: absolute;
        width: 520px;
        height: 520px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(255,255,255,0.95), transparent 65%);
        top: -160px;
        right: -120px;
        opacity: 0.8;
        pointer-events: none;
      }

      .auth-page::after {
        content: "";
        position: absolute;
        width: 360px;
        height: 360px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(178,107,57,0.24), transparent 65%);
        bottom: -120px;
        left: -80px;
        opacity: 0.9;
        pointer-events: none;
      }

      .auth-shell {
        max-width: 520px;
        width: 100%;
        position: relative;
        z-index: 2;
        animation: auth-shell-float 0.8s ease-out;
      }

      @keyframes auth-shell-float {
        0% { opacity: 0; transform: translateY(30px) scale(0.98); }
        100% { opacity: 1; transform: translateY(0) scale(1); }
      }

      .auth-card {
        background: rgba(246,239,229,0.98);
        border-radius: 22px;
        padding: 26px 26px 24px;
        box-shadow: 0 18px 38px rgba(0,0,0,0.32);
        border: 1px solid rgba(23,19,15,0.07);
        position: relative;
        overflow: hidden;
      }

      .auth-card::before {
        content: "";
        position: absolute;
        inset: 10px;
        border-radius: 18px;
        border: 1px solid rgba(255,255,255,0.7);
        pointer-events: none;
      }

      .auth-header { margin-bottom: 14px; position: relative; z-index: 1; }

      .auth-kicker {
        font-family: "Fjalla One", sans-serif;
        letter-spacing: 0.22em;
        text-transform: uppercase;
        font-size: 11px;
        color: #7b6b55;
        margin-bottom: 6px;
      }

      .auth-title {
        font-size: 22px;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        margin-bottom: 6px;
      }

      .auth-sub { font-size: 13px; color: #5a4d3f; }

      /* Success badge */
      .success-badge{
        display:inline-flex;
        align-items:center;
        gap:10px;
        margin: 10px 0 14px;
        padding: 10px 14px;
        border-radius: 999px;
        background: #fbf5ea;
        border: 1px solid rgba(23,19,15,0.16);
        font-family: "Fjalla One", sans-serif;
        letter-spacing: 0.14em;
        text-transform: uppercase;
        font-size: 11px;
        color:#17130f;
        position:relative;
        z-index:1;
      }

      .tick{
        width:18px;height:18px;border-radius:999px;
        border:1px solid rgba(23,19,15,0.4);
        display:grid;place-items:center;
        font-size:12px; line-height:1;
      }

      .order-box{
        margin-top: 14px;
        background: #fbf5ea;
        border-radius: 18px;
        border: 1px solid rgba(23,19,15,0.12);
        padding: 14px 14px 12px;
        position:relative;
        z-index:1;
      }

      .order-row{
        display:flex;
        justify-content:space-between;
        gap:12px;
        padding: 10px 4px;
        border-bottom: 1px solid rgba(23,19,15,0.08);
        font-size: 13px;
        color:#22150e;
      }
      .order-row:last-child{ border-bottom:none; }

      .order-row b{
        font-family:"Fjalla One", sans-serif;
        letter-spacing:0.12em;
        text-transform:uppercase;
        font-size:11px;
        color:#7b6b55;
        font-weight:400;
        min-width:140px;
      }

      .order-items{
        margin-top: 12px;
        border-radius: 18px;
        border: 1px dashed rgba(23,19,15,0.22);
        background: rgba(255,255,255,0.35);
        padding: 12px 12px 8px;
      }

      .order-items h3{
        margin: 0 0 8px;
        font-family:"Fjalla One", sans-serif;
        letter-spacing:0.16em;
        text-transform:uppercase;
        font-size: 11px;
        color:#7b6b55;
      }

      .item{
        display:flex;
        justify-content:space-between;
        gap:12px;
        padding:8px 4px;
        border-bottom:1px solid rgba(23,19,15,0.08);
        font-size:13px;
      }
      .item:last-child{border-bottom:none;}
      .item .left{color:#22150e;}
      .item .muted{color:#5a4d3f; font-size:12px; margin-top:2px;}
      .item .right{white-space:nowrap; color:#22150e;}

      .auth-actions{
        display:flex;
        gap:10px;
        margin-top: 14px;
        position:relative;
        z-index:1;
      }

      .btn-pill{
        flex:1;
        border-radius: 999px;
        border: 1px solid #17130f;
        background: #17130f;
        color:#fff;
        font-family:"Fjalla One", sans-serif;
        letter-spacing:0.18em;
        text-transform:uppercase;
        font-size:12px;
        padding: 11px 14px;
        cursor:pointer;
        text-decoration:none;
        display:inline-flex;
        justify-content:center;
        align-items:center;
        transition: background 0.25s ease, color 0.25s ease, transform 0.15s ease, box-shadow 0.25s ease;
      }

      .btn-pill:hover{
        background:#f5efe4;
        color:#17130f;
        transform: translateY(-2px);
        box-shadow: 0 10px 24px rgba(0,0,0,0.28);
      }

      .btn-ghost{
        background: transparent;
        color:#17130f;
      }

      .btn-ghost:hover{
        background:#f5efe4;
      }

      @media (max-width: 600px) {
        .auth-page { padding: 90px 16px 70px; }
        .auth-shell{ max-width: 460px; }
        .auth-actions{ flex-direction:column; }
        .order-row b{ min-width: 120px; }
      }
    </style>

    <div class="auth-shell">
      <div class="auth-card">
        <div class="auth-header">
          <div class="auth-kicker">THANK YOU</div>
          <h1 class="auth-title">Order placed successfully</h1>
          <p class="auth-sub">
            Your order is confirmed. We’ll update you as it gets packed, shipped and delivered.
          </p>

          <div class="success-badge">
            <span class="tick">✓</span>
            Order #{{ order.id }} • {{ order.payment_status }}
          </div>
        </div>

        <div class="order-box">
          <div class="order-row">
            <b>Status</b>
            <span>{{ order.status }} — {{ order.tracking_message }}</span>
          </div>

          <div class="order-row">
            <b>Total</b>
            <span>₹ {{ order.total_amount | int }}</span>
          </div>

          <div class="order-row">
            <b>Shipping</b>
            <span>
              {{ order.shipping_name }}<br>
              {{ order.shipping_address }}<br>
              {{ order.shipping_post_office }} — {{ order.shipping_pincode }}
            </span>
          </div>

          <div class="order-items">
            <h3>Items</h3>
            {% for it in order.items %}
              <div class="item">
                <div class="left">
                  <div>{{ it.product_name }}</div>
                  <div class="muted">
                    {% if it.product_size %}Size: {{ it.product_size }}{% endif %}
                    {% if it.product_color %}{% if it.product_size %} • {% endif %}Colour: {{ it.product_color }}{% endif %}
                    • Qty: {{ it.quantity }}
                  </div>
                </div>
                <div class="right">₹ {{ (it.product_price * it.quantity) | int }}</div>
              </div>
            {% endfor %}
          </div>

          <div class="auth-actions">
            <a class="btn-pill" href="{{ url_for('shop') }}">Continue shopping</a>
            <a class="btn-pill btn-ghost" href="{{ url_for('home') }}">Back to home</a>
          </div>
        </div>

      </div>
    </div>
  </section>

</main>
{% endblock %}
